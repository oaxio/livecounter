window.whatInput=function(){"use strict";function m(){p(),q(event),c=!0,l=window.setTimeout(function(){c=!1},650)}function n(a){c||q(a)}function o(a){p(),q(a)}function p(){window.clearTimeout(l)}function q(a){var c=s(a),f=h[a.type];if("pointer"===f&&(f=u(a)),d!==f){var i=t(a),k=i.nodeName.toLowerCase(),l="input"===k?i.getAttribute("type"):null;!b.hasAttribute("data-whatinput-formtyping")&&d&&"keyboard"===f&&"tab"!==j[c]&&("textarea"===k||"select"===k||"input"===k&&e.indexOf(l)<0)||g.indexOf(c)>-1||r(f)}"keyboard"===f&&v(c)}function r(a){d=a,b.setAttribute("data-whatinput",d),i.indexOf(d)===-1&&i.push(d)}function s(a){return a.keyCode?a.keyCode:a.which}function t(a){return a.target||a.srcElement}function u(a){return"number"==typeof a.pointerType?k[a.pointerType]:"pen"===a.pointerType?"touch":a.pointerType}function v(b){a.indexOf(j[b])===-1&&j[b]&&a.push(j[b])}function w(b){var c=s(b),d=a.indexOf(j[c]);d!==-1&&a.splice(d,1)}function x(){b=document.body,window.PointerEvent?(b.addEventListener("pointerdown",n),b.addEventListener("pointermove",n)):window.MSPointerEvent?(b.addEventListener("MSPointerDown",n),b.addEventListener("MSPointerMove",n)):(b.addEventListener("mousedown",n),b.addEventListener("mousemove",n),"ontouchstart"in window&&b.addEventListener("touchstart",m)),b.addEventListener(f,n),b.addEventListener("keydown",o),b.addEventListener("keyup",o),document.addEventListener("keyup",w)}function y(){return f="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}var b,a=[],c=!1,d=null,e=["button","checkbox","file","image","radio","reset","submit"],f=y(),g=[16,17,18,91,93],h={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"};h[y()]="mouse";var l,i=[],j={9:"tab",13:"enter",16:"shift",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"},k={2:"touch",3:"touch",4:"mouse"};return"addEventListener"in window&&Array.prototype.indexOf&&(document.body?x():document.addEventListener("DOMContentLoaded",x)),{ask:function(){return d},keys:function(){return a},types:function(){return i},set:r}}();